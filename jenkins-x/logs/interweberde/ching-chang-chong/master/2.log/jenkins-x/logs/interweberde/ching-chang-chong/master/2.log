Step: build-step-credential-initializer:

{"level":"warn","ts":1548174835.27832,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548174835.2796228,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1548174836.3897955,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548174845.1401446,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/interweberde/ching-chang-chong.git\" @ \"7d64ab4fd2872799d4eb7c395135182d4f969402\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  17.748 [id=41]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins3198596070131390442test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and push snapshot)
Stage "CI Build and push snapshot" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Release)
[Pipeline] git
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/interweberde/ching-chang-chong.git # timeout=10
Fetching upstream changes from https://github.com/interweberde/ching-chang-chong.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/interweberde/ching-chang-chong.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision 7d64ab4fd2872799d4eb7c395135182d4f969402 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 7d64ab4fd2872799d4eb7c395135182d4f969402
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 7d64ab4fd2872799d4eb7c395135182d4f969402
Commit message: "Merge pull request #2 from interweberde/chore/add-files"
First time build. Skipping changelog.
[Pipeline] sh
+ jx-release-version
+ echo 0.0.2
[Pipeline] sh
+ cat VERSION
+ jx step tag --version 0.0.2
Tag v0.0.2 created and pushed to remote origin
[Pipeline] sh
+ npm install
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1962 packages in 64.298s
[Pipeline] sh
+ CI=true DISPLAY=:99 npm test

> 01-ching-chang-chong@0.1.0 test /tmp/jenkinsTests.tmp/jenkins3198596070131390442test/workspace/job
> react-scripts test

PASS src/App.test.js
  ✓ renders without crashing (67ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        3.036s
Ran all test suites.
[Pipeline] sh
+ cat VERSION
+ export VERSION=0.0.2
+ skaffold build -f skaffold.yaml
Starting build...
Building [changeme]...
Sending build context to Docker daemon  529.4kBSending build context to Docker daemon  2.668MBSending build context to Docker daemon  4.767MBSending build context to Docker daemon  6.373MBSending build context to Docker daemon  12.26MBSending build context to Docker daemon  15.98MBSending build context to Docker daemon  18.09MBSending build context to Docker daemon  23.51MBSending build context to Docker daemon  27.23MBSending build context to Docker daemon  30.94MBSending build context to Docker daemon  33.62MBSending build context to Docker daemon  34.67MBSending build context to Docker daemon  37.85MBSending build context to Docker daemon  41.58MBSending build context to Docker daemon  44.22MBSending build context to Docker daemon  46.85MBSending build context to Docker daemon  50.56MBSending build context to Docker daemon  55.87MBSending build context to Docker daemon  59.63MBSending build context to Docker daemon  61.21MBSending build context to Docker daemon  64.41MBSending build context to Docker daemon  68.65MBSending build context to Docker daemon  71.28MBSending build context to Docker daemon  76.08MBSending build context to Docker daemon  80.31MBSending build context to Docker daemon  82.95MBSending build context to Docker daemon     84MBSending build context to Docker daemon  87.72MBSending build context to Docker daemon  92.54MBSending build context to Docker daemon  97.97MBSending build context to Docker daemon  104.4MBSending build context to Docker daemon  110.3MBSending build context to Docker daemon  117.7MBSending build context to Docker daemon  125.3MBSending build context to Docker daemon  132.2MBSending build context to Docker daemon  139.7MBSending build context to Docker daemon  146.7MBSending build context to Docker daemon  153.7MBSending build context to Docker daemon  160.7MBSending build context to Docker daemon  167.6MBSending build context to Docker daemon  174.6MBSending build context to Docker daemon    182MBSending build context to Docker daemon  187.4MBSending build context to Docker daemon  192.8MBSending build context to Docker daemon  201.1MBSending build context to Docker daemon  204.3MBSending build context to Docker daemon  205.3MBSending build context to Docker daemon  209.1MBSending build context to Docker daemon    215MBSending build context to Docker daemon  217.7MBSending build context to Docker daemon  219.8MBSending build context to Docker daemon  221.4MBSending build context to Docker daemon  224.6MBSending build context to Docker daemon  225.7MBSending build context to Docker daemon  227.8MBSending build context to Docker daemon  231.5MBSending build context to Docker daemon  236.3MBSending build context to Docker daemon  243.4MBSending build context to Docker daemon  247.6MBSending build context to Docker daemon  250.8MBSending build context to Docker daemon  253.5MBSending build context to Docker daemon  256.2MBSending build context to Docker daemon  256.9MB
Step 1/7 : FROM node:11-slim as build-stage
 ---> 073c38aaf482
Step 2/7 : WORKDIR /usr/src/app
 ---> Using cache
 ---> 37444f4633d6
Step 3/7 : COPY . .
 ---> f94ddf31f248
Step 4/7 : RUN npm run build
 ---> Running in 6f0d9f207700

> 01-ching-chang-chong@0.1.0 build /usr/src/app
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  49.19 KB  build/static/js/1.0553fe95.chunk.js
  21.85 KB  build/static/css/1.0cc0af95.chunk.css
  1.93 KB   build/static/js/main.a016a5a0.chunk.js
  763 B     build/static/js/runtime~main.229c360f.js
  139 B     build/static/css/main.58271d92.chunk.css

The project was built assuming it is hosted at the server root.
You can control this with the homepage field in your package.json.
For example, add this to build it for GitHub Pages:

  "homepage" : "http://myname.github.io/myapp",

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  http://bit.ly/CRA-deploy

 ---> 22668bc3733d
Step 5/7 : FROM nginx:alpine
 ---> 315798907716
Step 6/7 : EXPOSE 80
 ---> Using cache
 ---> 88d503af4c25
Step 7/7 : COPY --from=build-stage /usr/src/app/build/ /usr/share/nginx/html
 ---> Using cache
 ---> 8e200dff5385
Successfully built 8e200dff5385
Successfully tagged d96e7229dac9b063fecd2dd21830073c:latest
The push refers to repository [10.152.183.126:5000/interweberde/ching-chang-chong]
718a79caf6e3: Preparing
a14c6c26f6ba: Preparing
974e2a9f749c: Preparing
9108db4b6ca3: Preparing
7bff100f35cb: Preparing
718a79caf6e3: Layer already exists
7bff100f35cb: Layer already exists
9108db4b6ca3: Layer already exists
a14c6c26f6ba: Layer already exists
974e2a9f749c: Layer already exists
0.0.2: digest: sha256:2934b57401c3e025757e07af1dea5d31386e2f44d73339b6e036b11b7d2b356b size: 1363
Build complete in 1m33.300977746s
Starting test...
Test complete in 11.552µs
changeme -> 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.2
[Pipeline] sh
+ cat VERSION
+ jx step post build --image 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.2
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Promote to Environments)
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins3198596070131390442test/workspace/job/charts/ching-chang-chong
[Pipeline] {
[Pipeline] sh
+ cat ../../VERSION
+ jx step changelog --version v0.0.2
Using batch mode as inside a pipeline
Generating change log from git ref 7d64ab4fd2872799d4eb7c395135182d4f969402 => 2e909278bdba653983ed524cfb1180addc16027b
Associating user jenkins-x.googlegroups.com in users.jenkins.io with email jenkins-x@googlegroups.com to git GitProvider user with login  as emails match
Adding label jenkins.io/git-github-userid= to user jenkins-x.googlegroups.com in users.jenkins.io
Associating user jenkins-x.googlegroups.com in users.jenkins.io with email jenkins-x@googlegroups.com to git GitProvider user with login  as emails match
Adding label jenkins.io/git-github-userid= to user jenkins-x.googlegroups.com in users.jenkins.io
Finding issues in commit messages using git format
No release found for interweberde/ching-chang-chong and tag v0.0.2 so creating a new release
Updated the release information at https://github.com/interweberde/ching-chang-chong/releases/tag/v0.0.2
generated: /tmp/jenkinsTests.tmp/jenkins3198596070131390442test/workspace/job/charts/ching-chang-chong/templates/release.yaml
Created Release ching-chang-chong-0-0-2 resource in namespace jx
Updating PipelineActivity interweberde-ching-chang-chong-master-2 with version 0.0.2
Updated PipelineActivities interweberde-ching-chang-chong-master-2 with release notes URL: https://github.com/interweberde/ching-chang-chong/releases/tag/v0.0.2
[Pipeline] sh
+ jx step helm release
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file ching-chang-chong-0.0.2.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}
[Pipeline] sh
+ cat ../../VERSION
+ jx promote -b --all-auto --timeout 1h --version 0.0.2
prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/jx/issues/2410
Promoting app ching-chang-chong version 0.0.2 to namespace jx-staging
error: open .gitignore: no such file or directory
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
