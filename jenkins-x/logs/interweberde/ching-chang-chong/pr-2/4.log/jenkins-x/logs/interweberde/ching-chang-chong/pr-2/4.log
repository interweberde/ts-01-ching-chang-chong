Step: build-step-credential-initializer:

{"level":"warn","ts":1548170375.4856026,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548170375.4863293,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1548170376.4916437,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548170378.2874475,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/interweberde/ching-chang-chong.git\" @ \"0f2a7f4bec93d189ab5baca0e89f309f1e987e8b\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  17.408 [id=41]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and push snapshot)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ npm install
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1962 packages in 67.011s
[Pipeline] sh
+ CI=true DISPLAY=:99 npm test

> 01-ching-chang-chong@0.1.0 test /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job
> react-scripts test

PASS src/App.test.js
  ✓ renders without crashing (64ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        3.024s
Ran all test suites.
[Pipeline] sh
+ export VERSION=0.0.0-SNAPSHOT-PR-2-4
+ skaffold build -f skaffold.yaml
Starting build...
Building [changeme]...
Sending build context to Docker daemon  527.1kBSending build context to Docker daemon  2.638MBSending build context to Docker daemon  4.742MBSending build context to Docker daemon  6.317MBSending build context to Docker daemon   12.2MBSending build context to Docker daemon  14.83MBSending build context to Docker daemon  18.04MBSending build context to Docker daemon  20.72MBSending build context to Docker daemon  25.58MBSending build context to Docker daemon   27.7MBSending build context to Docker daemon  30.88MBSending build context to Docker daemon  33.57MBSending build context to Docker daemon  34.61MBSending build context to Docker daemon  37.79MBSending build context to Docker daemon  43.64MBSending build context to Docker daemon  45.21MBSending build context to Docker daemon  48.92MBSending build context to Docker daemon  53.16MBSending build context to Docker daemon  57.43MBSending build context to Docker daemon  59.57MBSending build context to Docker daemon  61.68MBSending build context to Docker daemon  66.47MBSending build context to Docker daemon  70.17MBSending build context to Docker daemon  74.44MBSending build context to Docker daemon   79.2MBSending build context to Docker daemon  82.37MBSending build context to Docker daemon  83.94MBSending build context to Docker daemon   87.1MBSending build context to Docker daemon  91.93MBSending build context to Docker daemon  97.37MBSending build context to Docker daemon  105.4MBSending build context to Docker daemon  112.4MBSending build context to Docker daemon  118.2MBSending build context to Docker daemon    123MBSending build context to Docker daemon  128.4MBSending build context to Docker daemon  134.9MBSending build context to Docker daemon  141.3MBSending build context to Docker daemon  147.8MBSending build context to Docker daemon  154.2MBSending build context to Docker daemon  161.1MBSending build context to Docker daemon  168.1MBSending build context to Docker daemon  175.6MBSending build context to Docker daemon  181.5MBSending build context to Docker daemon  187.3MBSending build context to Docker daemon  193.3MBSending build context to Docker daemon  200.4MBSending build context to Docker daemon  204.2MBSending build context to Docker daemon  205.3MBSending build context to Docker daemon    209MBSending build context to Docker daemon    215MBSending build context to Docker daemon  218.2MBSending build context to Docker daemon  220.8MBSending build context to Docker daemon    223MBSending build context to Docker daemon  224.6MBSending build context to Docker daemon  225.6MBSending build context to Docker daemon  227.7MBSending build context to Docker daemon  230.4MBSending build context to Docker daemon  235.7MBSending build context to Docker daemon  242.7MBSending build context to Docker daemon  248.1MBSending build context to Docker daemon  252.4MBSending build context to Docker daemon  256.7MBSending build context to Docker daemon  256.9MB
Step 1/7 : FROM node:11-slim as build-stage
11-slim: Pulling from library/node
177e7ef0df69: Already exists
604501ee7a0d: Pulling fs layer
72e8e07a1b97: Pulling fs layer
173899ce8f59: Pulling fs layer
604501ee7a0d: Verifying Checksum
604501ee7a0d: Download complete
604501ee7a0d: Pull complete
173899ce8f59: Verifying Checksum
173899ce8f59: Download complete
72e8e07a1b97: Verifying Checksum
72e8e07a1b97: Download complete
72e8e07a1b97: Pull complete
173899ce8f59: Pull complete
Digest: sha256:f8657148235282f45cbddc5f7c0cbcfccf9eb49d8167ca6c9b4fe3f49428bd5e
Status: Downloaded newer image for node:11-slim
 ---> 073c38aaf482
Step 2/7 : WORKDIR /usr/src/app
 ---> Running in 508aba626ca0
 ---> 37444f4633d6
Step 3/7 : COPY . .
 ---> 7495e42fd918
Step 4/7 : RUN npm run build
 ---> Running in 64405a1639d9

> 01-ching-chang-chong@0.1.0 build /usr/src/app
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  49.19 KB  build/static/js/1.0553fe95.chunk.js
  21.85 KB  build/static/css/1.0cc0af95.chunk.css
  1.93 KB   build/static/js/main.a016a5a0.chunk.js
  763 B     build/static/js/runtime~main.229c360f.js
  139 B     build/static/css/main.58271d92.chunk.css

The project was built assuming it is hosted at the server root.
You can control this with the homepage field in your package.json.
For example, add this to build it for GitHub Pages:

  "homepage" : "http://myname.github.io/myapp",

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  http://bit.ly/CRA-deploy

 ---> cce2c1b47f9f
Step 5/7 : FROM nginx:alpine
 ---> 315798907716
Step 6/7 : EXPOSE 80
 ---> Running in ef2a88253c80
 ---> 88d503af4c25
Step 7/7 : COPY --from=build-stage /usr/src/app/build/ /usr/share/nginx/html
 ---> 8e200dff5385
Successfully built 8e200dff5385
Successfully tagged 0221962da953f4452bbea82b4c40f6f5:latest
The push refers to repository [10.152.183.126:5000/interweberde/ching-chang-chong]
718a79caf6e3: Preparing
a14c6c26f6ba: Preparing
974e2a9f749c: Preparing
9108db4b6ca3: Preparing
7bff100f35cb: Preparing
a14c6c26f6ba: Layer already exists
7bff100f35cb: Layer already exists
974e2a9f749c: Layer already exists
9108db4b6ca3: Layer already exists
718a79caf6e3: Pushed
0.0.0-SNAPSHOT-PR-2-4: digest: sha256:2934b57401c3e025757e07af1dea5d31386e2f44d73339b6e036b11b7d2b356b size: 1363
Build complete in 2m9.140580596s
Starting test...
Test complete in 13.05µs
changeme -> 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.0-SNAPSHOT-PR-2-4
[Pipeline] sh
+ jx step post build --image 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.0-SNAPSHOT-PR-2-4
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job/charts/preview
[Pipeline] {
[Pipeline] sh
+ make preview
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-4/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-4/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: 10.152.183.126:5000\/interweberde\/ching-chang-chong|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-2-4/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-2-4" >> requirements.yaml
jx step helm build
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
[Pipeline] sh
+ jx preview --app ching-chang-chong --dir ../..
Creating a preview
Commit author email is empty for: 52519d62c5eded95c0d2a397330fe0a70758667d
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job/
Commit not found: 52519d62c5eded95c0d2a397330fe0a70758667d
Commit author email is empty for: d37df0477655ea4c590b21c36e97ab4e262d5094
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job/
Commit not found: d37df0477655ea4c590b21c36e97ab4e262d5094
Commit author email is empty for: 0f2a7f4bec93d189ab5baca0e89f309f1e987e8b
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4449485141136187019test/workspace/job/
Found commit author match for: xyng with email address: daniel.melchior@interweber.de
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 192.168.178.38.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: 10.152.183.126:5000/interweberde/ching-chang-chong
    tag: 0.0.0-SNAPSHOT-PR-2-4
Updating PipelineActivities interweberde-ching-chang-chong-pr-2-4 which has status Running
Preview application is now available at: http://ching-chang-chong.jx-interweberde-ching-chang-chong-pr-2.192.168.178.38.nip.io

[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Release)
Stage "Build Release" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Promote to Environments)
Stage "Promote to Environments" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
