Step: build-step-credential-initializer:

{"level":"warn","ts":1548170856.7347748,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548170856.736012,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1548170857.6851804,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548170859.6500285,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/interweberde/ching-chang-chong.git\" @ \"60e9f3457b272ebd0625cf55a0927ef21ed425bf\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  17.927 [id=41]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and push snapshot)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ npm install
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1962 packages in 57.433s
[Pipeline] sh
+ CI=true DISPLAY=:99 npm test

> 01-ching-chang-chong@0.1.0 test /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job
> react-scripts test

PASS src/App.test.js
  ✓ renders without crashing (64ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        3.09s
Ran all test suites.
[Pipeline] sh
+ export VERSION=0.0.0-SNAPSHOT-PR-2-5
+ skaffold build -f skaffold.yaml
Starting build...
Building [changeme]...
Sending build context to Docker daemon  527.1kBSending build context to Docker daemon  2.638MBSending build context to Docker daemon  4.742MBSending build context to Docker daemon  6.317MBSending build context to Docker daemon   12.2MBSending build context to Docker daemon  15.38MBSending build context to Docker daemon  18.58MBSending build context to Docker daemon  25.05MBSending build context to Docker daemon  27.17MBSending build context to Docker daemon  30.88MBSending build context to Docker daemon  33.57MBSending build context to Docker daemon  34.61MBSending build context to Docker daemon  38.32MBSending build context to Docker daemon  43.64MBSending build context to Docker daemon  45.74MBSending build context to Docker daemon  49.45MBSending build context to Docker daemon  53.69MBSending build context to Docker daemon  57.95MBSending build context to Docker daemon  59.57MBSending build context to Docker daemon  61.68MBSending build context to Docker daemon  67.01MBSending build context to Docker daemon  70.17MBSending build context to Docker daemon  74.44MBSending build context to Docker daemon  79.73MBSending build context to Docker daemon  82.89MBSending build context to Docker daemon  84.48MBSending build context to Docker daemon  87.66MBSending build context to Docker daemon  93.04MBSending build context to Docker daemon  99.53MBSending build context to Docker daemon    107MBSending build context to Docker daemon  113.4MBSending build context to Docker daemon  120.4MBSending build context to Docker daemon  127.9MBSending build context to Docker daemon  135.4MBSending build context to Docker daemon  142.9MBSending build context to Docker daemon  148.3MBSending build context to Docker daemon  154.2MBSending build context to Docker daemon  160.1MBSending build context to Docker daemon    167MBSending build context to Docker daemon  173.4MBSending build context to Docker daemon  179.9MBSending build context to Docker daemon  186.3MBSending build context to Docker daemon  193.3MBSending build context to Docker daemon    201MBSending build context to Docker daemon  204.2MBSending build context to Docker daemon  205.3MBSending build context to Docker daemon    209MBSending build context to Docker daemon  214.4MBSending build context to Docker daemon  217.7MBSending build context to Docker daemon  220.3MBSending build context to Docker daemon  221.9MBSending build context to Docker daemon  224.6MBSending build context to Docker daemon  225.6MBSending build context to Docker daemon  227.7MBSending build context to Docker daemon  231.5MBSending build context to Docker daemon  236.3MBSending build context to Docker daemon  243.3MBSending build context to Docker daemon  248.7MBSending build context to Docker daemon  252.9MBSending build context to Docker daemon  256.9MB
Step 1/7 : FROM node:11-slim as build-stage
 ---> 073c38aaf482
Step 2/7 : WORKDIR /usr/src/app
 ---> Using cache
 ---> 37444f4633d6
Step 3/7 : COPY . .
 ---> 906af94c4d33
Step 4/7 : RUN npm run build
 ---> Running in ff060ab8ef49

> 01-ching-chang-chong@0.1.0 build /usr/src/app
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  49.19 KB  build/static/js/1.0553fe95.chunk.js
  21.85 KB  build/static/css/1.0cc0af95.chunk.css
  1.93 KB   build/static/js/main.a016a5a0.chunk.js
  763 B     build/static/js/runtime~main.229c360f.js
  139 B     build/static/css/main.58271d92.chunk.css

The project was built assuming it is hosted at the server root.
You can control this with the homepage field in your package.json.
For example, add this to build it for GitHub Pages:

  "homepage" : "http://myname.github.io/myapp",

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  http://bit.ly/CRA-deploy

 ---> c85ae8f0dac8
Step 5/7 : FROM nginx:alpine
 ---> 315798907716
Step 6/7 : EXPOSE 80
 ---> Using cache
 ---> 88d503af4c25
Step 7/7 : COPY --from=build-stage /usr/src/app/build/ /usr/share/nginx/html
 ---> Using cache
 ---> 8e200dff5385
Successfully built 8e200dff5385
Successfully tagged 380e8259437b50cce1258fc0e4e917d6:latest
The push refers to repository [10.152.183.126:5000/interweberde/ching-chang-chong]
718a79caf6e3: Preparing
a14c6c26f6ba: Preparing
974e2a9f749c: Preparing
9108db4b6ca3: Preparing
7bff100f35cb: Preparing
974e2a9f749c: Layer already exists
7bff100f35cb: Layer already exists
718a79caf6e3: Layer already exists
9108db4b6ca3: Layer already exists
a14c6c26f6ba: Layer already exists
0.0.0-SNAPSHOT-PR-2-5: digest: sha256:2934b57401c3e025757e07af1dea5d31386e2f44d73339b6e036b11b7d2b356b size: 1363
Build complete in 1m26.212915128s
Starting test...
Test complete in 13.906µs
changeme -> 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.0-SNAPSHOT-PR-2-5
[Pipeline] sh
+ jx step post build --image 10.152.183.126:5000/interweberde/ching-chang-chong:0.0.0-SNAPSHOT-PR-2-5
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job/charts/preview
[Pipeline] {
[Pipeline] sh
+ make preview
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-5/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-5/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: 10.152.183.126:5000\/interweberde\/ching-chang-chong|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-2-5/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-2-5" >> requirements.yaml
jx step helm build
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
[Pipeline] sh
+ jx preview --app ching-chang-chong --dir ../..
Creating a preview
Commit author email is empty for: 52519d62c5eded95c0d2a397330fe0a70758667d
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job/
Commit not found: 52519d62c5eded95c0d2a397330fe0a70758667d
Commit author email is empty for: d37df0477655ea4c590b21c36e97ab4e262d5094
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job/
Commit not found: d37df0477655ea4c590b21c36e97ab4e262d5094
Commit author email is empty for: 0f2a7f4bec93d189ab5baca0e89f309f1e987e8b
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job/
Commit not found: 0f2a7f4bec93d189ab5baca0e89f309f1e987e8b
Commit author email is empty for: 60e9f3457b272ebd0625cf55a0927ef21ed425bf
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins4972421625516646973test/workspace/job/
Found commit author match for: xyng with email address: daniel.melchior@interweber.de
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 192.168.178.38.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: 10.152.183.126:5000/interweberde/ching-chang-chong
    tag: 0.0.0-SNAPSHOT-PR-2-5
Updating PipelineActivities interweberde-ching-chang-chong-pr-2-5 which has status Running
Preview application is now available at: http://ching-chang-chong.jx-interweberde-ching-chang-chong-pr-2.192.168.178.38.nip.io

[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Release)
Stage "Build Release" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Promote to Environments)
Stage "Promote to Environments" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
