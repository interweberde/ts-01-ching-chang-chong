Step: build-step-credential-initializer:

{"level":"warn","ts":1548162775.941649,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548162775.9428444,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1548162776.939716,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1548162781.2552292,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/interweberde/trainee-solutions-01-ching-chang-chong.git\" @ \"151d93d93c5946b95ca22e4aef2c0bbf07351419\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  17.423 [id=21]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins6204387072624679221test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and push snapshot)
Stage "CI Build and push snapshot" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Release)
[Pipeline] git
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/interweberde/trainee-solutions-01-ching-chang-chong.git # timeout=10
Fetching upstream changes from https://github.com/interweberde/trainee-solutions-01-ching-chang-chong.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/interweberde/trainee-solutions-01-ching-chang-chong.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision 151d93d93c5946b95ca22e4aef2c0bbf07351419 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 151d93d93c5946b95ca22e4aef2c0bbf07351419
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 151d93d93c5946b95ca22e4aef2c0bbf07351419
Commit message: "Merge pull request #1 from interweberde/text/competitor-instead-of-computer"
First time build. Skipping changelog.
[Pipeline] sh
+ jx-release-version
+ echo 1.0.3
[Pipeline] sh
+ cat VERSION
+ jx step tag --version 1.0.3
Tag v1.0.3 created and pushed to remote origin
[Pipeline] sh
+ npm install
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1962 packages in 53.764s
[Pipeline] sh
+ npm run build

> 01-ching-chang-chong@0.1.0 build /tmp/jenkinsTests.tmp/jenkins6204387072624679221test/workspace/job
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  49.18 KB  build/static/js/1.0fe4a65e.chunk.js
  21.85 KB  build/static/css/1.5b70bda8.chunk.css
  1.93 KB   build/static/js/main.946d3b40.chunk.js
  763 B     build/static/js/runtime~main.229c360f.js
  139 B     build/static/css/main.0700c675.chunk.css

The project was built assuming it is hosted at the server root.
You can control this with the homepage field in your package.json.
For example, add this to build it for GitHub Pages:

  "homepage" : "http://myname.github.io/myapp",

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  http://bit.ly/CRA-deploy

[Pipeline] sh
+ CI=true DISPLAY=:99 npm test

> 01-ching-chang-chong@0.1.0 test /tmp/jenkinsTests.tmp/jenkins6204387072624679221test/workspace/job
> react-scripts test

PASS src/App.test.js
  ✓ renders without crashing (65ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        3.053s
Ran all test suites.
[Pipeline] sh
+ cat VERSION
+ export VERSION=1.0.3
+ skaffold build -f skaffold.yaml
time="2019-01-22T13:15:32Z" level=warning msg="config version (skaffold/v1beta1) out of date: upgrading to latest (skaffold/v1beta2)"
Starting build...
Building [ching-chang-chong]...
Sending build context to Docker daemon  550.9kBSending build context to Docker daemon  1.991MB
Step 1/2 : FROM nginx:alpine
alpine: Pulling from library/nginx
Digest: sha256:385fbcf0f04621981df6c6f1abd896101eb61a439746ee2921b26abc78f45571
Status: Downloaded newer image for nginx:alpine
 ---> 315798907716
Step 2/2 : COPY build /usr/share/nginx/html
 ---> 0adcb48e6e46
Successfully built 0adcb48e6e46
Successfully tagged 4fe90d053889d7c1ce9e813e5ebabdfc:latest
The push refers to repository [10.152.183.126:5000/interweberde/ching-chang-chong]
57e687a31a02: Preparing
a14c6c26f6ba: Preparing
974e2a9f749c: Preparing
9108db4b6ca3: Preparing
7bff100f35cb: Preparing
a14c6c26f6ba: Pushed
974e2a9f749c: Pushed
57e687a31a02: Pushed
7bff100f35cb: Pushed
9108db4b6ca3: Pushed
1.0.3: digest: sha256:f49872e0269e762dd4f09f0da4cb957ec535a4451bee77f2ad274de04999fb27 size: 1363
Build complete in 12.943027273s
Starting test...
Test complete in 8.086µs
ching-chang-chong -> 10.152.183.126:5000/interweberde/ching-chang-chong:1.0.3
[Pipeline] sh
+ cat VERSION
+ jx step post build --image 10.152.183.126:5000/interweberde/trainee-solutions-01-ching-chang-chong:1.0.3
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Promote to Environments)
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins6204387072624679221test/workspace/job/charts/trainee-solutions-01-ching-chang-chong
[Pipeline] {
[Pipeline] sh
+ cat ../../VERSION
+ jx step changelog --version v1.0.3
Using batch mode as inside a pipeline
Generating change log from git ref 151d93d93c5946b95ca22e4aef2c0bbf07351419 => 9b0a93766f6d67244b6d5803b67d1706baf394ea
Associating user jenkins-x.googlegroups.com in users.jenkins.io with email jenkins-x@googlegroups.com to git GitProvider user with login  as emails match
Adding label jenkins.io/git-github-userid= to user jenkins-x.googlegroups.com in users.jenkins.io
Finding issues in commit messages using git format
No release found for interweberde/trainee-solutions-01-ching-chang-chong and tag v1.0.3 so creating a new release
Updated the release information at https://github.com/interweberde/trainee-solutions-01-ching-chang-chong/releases/tag/v1.0.3
generated: /tmp/jenkinsTests.tmp/jenkins6204387072624679221test/workspace/job/charts/trainee-solutions-01-ching-chang-chong/templates/release.yaml
Created Release trainee-solutions-01-ching-chang-chong-1-0-3 resource in namespace jx
Updating PipelineActivity interweberde-trainee-solutions-01-ching-chang-chong-master-4 with version 1.0.3
Updated PipelineActivities interweberde-trainee-solutions-01-ching-chang-chong-master-4 with release notes URL: https://github.com/interweberde/trainee-solutions-01-ching-chang-chong/releases/tag/v1.0.3
[Pipeline] sh
+ jx step helm release
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file trainee-solutions-01-ching-chang-chong-1.0.3.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}
[Pipeline] sh
+ cat ../../VERSION
+ jx promote -b --all-auto --timeout 1h --version 1.0.3
prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/jx/issues/2410
Promoting app trainee-solutions-01-ching-chang-chong version 1.0.3 to namespace jx-staging
error: open .gitignore: no such file or directory
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
